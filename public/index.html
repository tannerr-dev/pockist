<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="styles/reset.css" rel="stylesheet">
    <link href="styles/global.css" rel="stylesheet">
    <meta name="darkreader-lock">
    <!-- <meta http-equiv="refresh" content="10" /> -->
    <meta http-equiv="cache-control" content="no-cache" />

    <link rel="icon" href="./assets/logo.svg" />
    
    <title>Pockist</title>
    <script>
        const root = document.querySelector(":root");

        function detectColorScheme() {
          var theme = "dark";

          if (localStorage.getItem("theme")) {
            if (localStorage.getItem("theme") == "light") {
              var theme = "light";
            }
          } else if (!window.matchMedia) {
            //matchMedia method not supported
            return false;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            var theme = "light";
            console.log("Preferred Theme",theme)
          } else {
            console.log("Preferred Theme",theme)
          }

          if (theme == "light") {
            document.documentElement.setAttribute("data-theme", "light");
            console.log("Setting theme to light");
          } else {
            document.documentElement.setAttribute("data-theme", "dark");
            console.log("Setthing theme to dark");
          }

          const themeColor =  localStorage.getItem("hue");
          console.log("Setting hue to ", themeColor);
          root.style.setProperty("--hue", themeColor);
        }
        detectColorScheme();

        window
          .matchMedia("(prefers-color-scheme: light)")
          .addEventListener("change", (event) => {
            if (!window.matchMedia) {
              //matchMedia method not supported
              return false;
            } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
              localStorage.setItem("theme", "light");
              document.documentElement.setAttribute("data-theme", "light");
            } else {
              localStorage.setItem("theme", "dark");
              document.documentElement.setAttribute("data-theme", "dark");
            }
            detectColorScheme();
          }
        );
    </script>
<body class="flex-center">
    <main class="flex-col">
        <h1>Pockist</h1>
        <form action="/api/login" method="post" class="flex-col">
            <input class="myinput" type="text" name="username" placeholder="username">
            <input class="myinput" type="password" name="password" placeholder="password">
            <button class="button" type="submit">login</button>
        </form>
    </main>
</body>
</html>
